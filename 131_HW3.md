131_HW3
================
Zack Reardon

``` r
library(tidyverse)
library(tidymodels)
library(corrr)
titanic <- read_csv("/Users/zackreardon/Downloads/homework-3/data/titanic.csv")

# converting to factors
titanic$survived <- as.factor(titanic$survived)
titanic$pclass <- as.factor(titanic$pclass)
```

Question 1.

``` r
set.seed(100)

titanic_split <- initial_split(titanic, prop = 0.70, strata = survived)

titanic_train <- training(titanic_split)
titanic_test <- testing(titanic_split)

tr <- nrow(titanic_train) # determine number of observations
tt <- nrow(titanic_test) # determine number of observations

print(tr/(tr+tt))
```

    ## [1] 0.6992144

``` r
titanic_train # look at training data
```

    ## # A tibble: 623 × 12
    ##    passenger_id survi…¹ pclass name  sex     age sib_sp parch ticket  fare cabin
    ##           <dbl> <fct>   <fct>  <chr> <chr> <dbl>  <dbl> <dbl> <chr>  <dbl> <chr>
    ##  1            1 No      3      Brau… male     22      1     0 A/5 2…  7.25 <NA> 
    ##  2            5 No      3      Alle… male     35      0     0 373450  8.05 <NA> 
    ##  3            6 No      3      Mora… male     NA      0     0 330877  8.46 <NA> 
    ##  4            7 No      1      McCa… male     54      0     0 17463  51.9  E46  
    ##  5           13 No      3      Saun… male     20      0     0 A/5. …  8.05 <NA> 
    ##  6           14 No      3      Ande… male     39      1     5 347082 31.3  <NA> 
    ##  7           17 No      3      Rice… male      2      4     1 382652 29.1  <NA> 
    ##  8           21 No      2      Fynn… male     35      0     0 239865 26    <NA> 
    ##  9           25 No      3      Pals… fema…     8      3     1 349909 21.1  <NA> 
    ## 10           27 No      3      Emir… male     NA      0     0 2631    7.22 <NA> 
    ## # … with 613 more rows, 1 more variable: embarked <chr>, and abbreviated
    ## #   variable name ¹​survived
    ## # ℹ Use `print(n = ...)` to see more rows, and `colnames()` to see all variable names

There appears to be some missing data regarding the age of some
passengers as well as the cabin number. It is a good idea to use
stratified sampling for this data since the purpose of the model is to
predict survival categorizations. By stratifying the data on the
survival variable, there exists a similar proportion of each
categorization in the training and testing sets which allows for a more
effective model.

Question 2.

``` r
ggplot(titanic_train, aes(x=survived)) + geom_bar()
```

![](131_HW3_files/figure-gfm/unnamed-chunk-3-1.png)<!-- -->

The distribution of the outcome variable in the training set indicates
that between 3/2 and double the amount of people who survived did not
survive.

Question 3.

``` r
cor_titanic <- titanic_train %>%
  select(is.numeric) %>%
  correlate()
```

    ## Warning: Predicate functions must be wrapped in `where()`.
    ## 
    ##   # Bad
    ##   data %>% select(is.numeric)
    ## 
    ##   # Good
    ##   data %>% select(where(is.numeric))
    ## 
    ## ℹ Please update your code.
    ## This message is displayed once per session.

    ## Correlation computed with
    ## • Method: 'pearson'
    ## • Missing treated using: 'pairwise.complete.obs'

``` r
rplot(cor_titanic)
```

![](131_HW3_files/figure-gfm/unnamed-chunk-4-1.png)<!-- -->

Age and siblings/spouses are negatively correlated as well as
parents/children and age. Parents/children and siblings/spouses, fare
and siblings/spouses, and fare and parents/children are positively
correlated.

Question 4.

``` r
titanic_recipe <- recipe(survived ~ pclass + sex + age + sib_sp + parch + fare, data = titanic_train) %>%
  step_impute_linear(age, impute_with = imp_vars(all_predictors())) %>%
  step_dummy(all_nominal_predictors()) %>%
  step_interact(~ starts_with("sex"):fare) %>%
  step_interact(~ age:fare)
```

Question 5.

``` r
log_reg <- logistic_reg() %>% 
  set_engine("glm") %>% 
  set_mode("classification")

log_wkflow <- workflow() %>% 
  add_model(log_reg) %>% 
  add_recipe(titanic_recipe)

#log_fit <- fit(log_wkflow, titanic_train)
```

Question 6.

``` r
lda_mod <- discrim_linear() %>% 
  set_mode("classification") %>%
  set_engine("MASS")
```

    ## parsnip could not locate an implementation for `discrim_linear` classification model specifications using the `MASS` engine.
    ## ℹ The parsnip extension package discrim implements support for this specification.
    ## ℹ Please install (if needed) and load to continue.

``` r
lda_wkflow <- workflow() %>% 
  add_model(lda_mod) %>%
  add_recipe(titanic_recipe)

#lda_fit <- fit(lda_wkflow, titanic_train)
```

Question 7.

``` r
qda_mod <- discrim_quad() %>% 
  set_mode("classification") %>% 
  set_engine("MASS")
```

    ## parsnip could not locate an implementation for `discrim_quad` classification model specifications using the `MASS` engine.
    ## ℹ The parsnip extension package discrim implements support for this specification.
    ## ℹ Please install (if needed) and load to continue.

``` r
qda_wkflow <- workflow() %>% 
  add_model(qda_mod) %>% 
  add_recipe(titanic_recipe)

#qda_fit <- fit(qda_wkflow, titanic_train)
```

Question 8.

``` r
nb_mod <- naive_Bayes() %>% 
  set_mode("classification") %>% 
  set_engine("klaR") %>% 
  set_args(usekernel = FALSE) 
```

    ## parsnip could not locate an implementation for `naive_Bayes` classification model specifications using the `klaR` engine.
    ## ℹ The parsnip extension package discrim implements support for this specification.
    ## ℹ Please install (if needed) and load to continue.

``` r
nb_wkflow <- workflow() %>% 
  add_model(nb_mod) %>% 
  add_recipe(titanic_recipe)

#nb_fit <- fit(nb_wkflow, titanic_train)
```
